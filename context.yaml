$schema: 'https://raw.githubusercontent.com/context-hub/generator/refs/heads/main/json-schema.json'

import:
    - path: resources/prompts.yaml

documents:
  # Project structure overview
  - description: 'Project structure overview'
    outputPath: project-structure.md
    overwrite: true
    sources:
      - type: text
        content: |
          The PSR-4 is used in the project.
      - type: tree
        sourcePaths: ['src']
        showCharCount: true
        showSize: true
      - type: file
        sourcePaths: ['README.md']

  # Modules API
  - description: 'Modules API allowed to be used in the project'
    outputPath: modules-api.md
    overwrite: true
    sources:
      - type: file
        sourcePaths: ['src/Module', 'src/Service']
        filePattern: '*.php'
        excludePatterns: ['/Internal/']
        modifiers:
          - name: php-content-filter
            options:
              method_visibility:
                - public
              keep_method_bodies: false
